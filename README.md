# Test-Jig-ITSPE
**Scope of the project**: This scope of the project is to design a  Test Jig for the LED Driver Board with single source LEDs.

**Project Description:** The objective of this project is to design and develop a test jig for the comprehensive testing of LED Driver Board with single source LEDs. The test jig will be used to measure and analyse voltage and current parameters to ensure the quality and performance of the LED’s and record the test data digitally in form of csv files with batch number. This test jig will facilitate efficient testing during both development and production phases, ensuring that the LED’s and driver boards meet the specified  performance.

**Detailed Requirement: **
To measure the Drivers Output voltage and current and record the data digitally. Each test which will be performed should have batch numbers as reference,it is this number with which any faulty and under or over powered drivers will be segregated and rectified.

//Note: Look at expanding the memory, estimate the time req to get a reliable measurement.

**Results**
Time: 1 hour
1 channel-voltage, current, power: 101KB 
Estimated space required for 8 channels: 808 KB 
Estimated free space on the microcontroller after 1 hour: 216 KB

**Conclusion**
Hourly testing of 8 channel input is feasible and supported by the testing jig. 

**Suggestions**
Functionality could be safely extended to up to 24 channels.


**Expected Outcomes: **
The expected outcome for the RED,AMBER and GREEN LED Driver Boards are listed below:
The voltage levels should be within the specified range:

RED:  6.65V (For a series of 3 and 8.78V for a series of 4)
AMBER: 8.97V (For a series of 3 and 11.91V for a series of 4)
GREEN: 8.48V (For a series of 3 and 11.15V for a series of 4)

The output current rating should be 350mA +20mA.


The initial testing should be done for at least 1 hr in the starting for all the drivers.
Any changes detected during testing then that particular channel should turn off and the rest of other channels should continue testing. The Faulty driver and the channel number should be highlighted in the results and it should be rectified later.                          

**Rough Design Flow:**
![Screenshot 2024-07-10 145428](https://github.com/user-attachments/assets/6d807972-866d-46fe-a7e1-e6d8253ef26c)

**List of components used**
INA219 sensors
Raspberry Pi Pico W 
TCA9548A
4.7K ohm pull-up resistors
LED load
Jumper wires 
USB cable

**Why INA219?**
INA219 uses a 0.1Ω shunt resistor on the module, can measure voltages up to  0-26 volt, and currents up to 3.2A which is ±3.2Amp (bi-directional) with ±0.8mA resolution. The IC communicates via I2C, and Adafruit provides libraries with functions for easy reading of voltage and current values. It uses the Hall effect principle and contains an onboard shunt resistor. It measures the voltage drop across the shunt resistor generated by the current passing through it. By measuring the voltage across the shunt resistor and applying calibration, it accurately calculates the current flow. 

**Why Raspberry Pi Pico W?**
Pico W is an ideal pick for our applications largely owing to its WiFi capabilities that shall allow us to transfer and document sensor data real time in csv files. Additionally, one of the major advantages of the Pico W is its energy efficiency. The device requires a low power supply of just 1.8-5.5V, making it ideal for battery-powered applications.

**Why TCA9548A?**
TCA9548A is an I²C multiplexer designed to increase the number of I²C devices that can be connected to a single I²C bus. It allows us to connect up to 8 separate I²C buses with the same I²C address. It simplifies the wiring and board layout in our particular system and also satisfies our requirement of individually enabled or disabled input channels. FInally, it also supports a wide voltage range, typically from 1.65V to 5.5V. 

**Updates: **
The need to use PICO W was evaluated again and it was observed that using PICO also uploads data into a csv file on the microcontroller, which can be downloaded onto the computer at the user’s disposal. Hence, a switch to PICO was made. 
Additionally, using the TCA9548A module on micropython gave incorrect results upon running an I2C device address scan. Hence, a switch to CircuitPython was made. Subsequently, Thonny IDE was replaced by Mu. 
Upon examining the behaviour of I2C buses, testing 16 lines at a time (8 on I2C0 and I2C1 each) was deemed feasible. 
TCA9548A’s capability to enable/disable a certain input line was tested and adopted into the code for the faulty cases. 
For preliminary testing, schematic and PCB was designed for 8 lines, but is currently facing the roadblock of INA219 sensors not being available in the market. However, the testing is planned using INA219 modules on the rest of the PCB. 

Easy EDA Schematic
![Screenshot 2024-07-02 112649](https://github.com/user-attachments/assets/0e166185-89f5-48bd-ac44-27cb9434c613)

Designed PCB Layout
![Screenshot 2024-07-02 112753](https://github.com/user-attachments/assets/6f533169-5527-4cb4-a245-7138e7b2937d)

     

**Learnings:**
- Working on this project has well-acquainted me with the following:
- CircuitPython and Micropython languages
- Reading specs and device documentation to extract relevant information
- Selection of right components that check all requirement boxes 
- Design using EasyEDA and basics of PCB layout


Future Work:
After the final testing and the measured test results. What can be the  further improvement in the design and what can be more done to improve the design performance needs to be captured in this section.

Conclusion:
The final Design results and the observations should be captured here.

